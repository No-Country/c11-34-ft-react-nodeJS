<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <link rel="stylesheet" href="./estilo.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Usuario</title>
   
  </head>
  <body>
    <!-- <a href="./loginTest.html">Ir a login de google, solo para local</a> -->
    <div class="container">
      <div class="tandback">
        <h1>API de Usuarios</h1>
        <a href="index.html">INICIO</a>
      </div>
      <nav>
        <a class="nav_item" href="#listar">Listar</a
        ><a class="nav_item" href="#correo">Listar por correo<a class="nav_item" href="#crear">Crear</a
        ><a class="nav_item" href="#actualizar">Actualizar</a
            ><a class="nav_item" href="#eliminar">Eliminar</a
        ><a class="nav_item" href="#loguear">Loguear</a
        ><a class="nav_item" href="#details">Detalles</a>
      </nav>
      <div class="scrollable">
        <p>
          Esta API permite realizar operaciones relacionadas con usuarios, como
          obtener usuarios, crear usuarios, actualizar usuarios y eliminar
          usuarios.
        </p>
        <p>
          Ruta de la API:
          <a href="https://ncback-production.up.railway.app" target="_blank"
            >https://ncback-production.up.railway.app</a
          >
        </p>

        <h2 id="listar">Obtener todos los usuarios</h2>
        <p>Obtiene la lista de todos los usuarios registrados en el sistema.</p>
        <ul>
          <li>Método: <code>GET</code></li>
          <li>Ruta: <code>/api/usuarios/</code></li>
        </ul>
        <p>Parámetros de consulta: Ninguno.</p>
        <p>Respuesta exitosa:</p>
        <pre><code class="success">
[
  {
            "nombre": "test1",
            "correo": "test1@gmail.com",
            "contrasena": "test1",
            "rol": "USER_ROLE",
            "estado": true,
            "google": false,
            "id": "646ad10cae92aa123ce07df7"
  }
]
</code></pre>
        <p>Respuesta no exitosa:</p>
        <pre><code class="error">
{
  "mensaje": "Usuario no encontrado"
}
</code></pre>

        <h2 id="correo">Obtener un usuario por correo</h2>
        <p>Obtiene un usuario específico por su correo electrónico.</p>
        <ul>
          <li>Método: <code>GET</code></li>
          <li>Ruta: <code>/api/usuarios</code></li>
        </ul>
        <p>Parámetros de consulta:</p>
        <ul>
          <li>
            <code>correo</code> (string, opcional): Correo electrónico del
            usuario a buscar.
          </li>
        </ul>
        <p>Ejemplo de petición: query</p>
        <pre><code>{
   ?correo=correo@gmail.com
}</code></pre>
        <p>Respuesta exitosa:</p>
        <pre><code class="success">
          {
            "nombre": "test1",
            "correo": "test1@gmail.com",
            "contrasena": "test1",
            "rol": "USER_ROLE",
            "estado": true,
            "google": false,
            "id": "646ad10cae92aa123ce07df7"
          }
</code></pre>
        <p>Respuesta no exitosa:</p>
        <pre><code class="error">
{
  "mensaje": "Usuario no encontrado"
}
</code></pre>

        <h2 id="crear">Crear un nuevo usuario</h2>
        <p>Crea un nuevo usuario.</p>
        <ul>
          <li>Método: <code>POST</code></li>
          <li>Ruta: <code>/api/usuarios/</code></li>
        </ul>
        <p>Parámetros de cuerpo de la solicitud:</p>
        <ul>
          <li>
            <code>nombre</code> (string, obligatorio): Nombre del usuario.
          </li>
          <li>
            <code>correo</code> (string, obligatorio): Correo electrónico del
            usuario.
          </li>
          <li>
            <code>contrasena</code> (string, obligatorio): Contraseña del
            usuario.
          </li>
        </ul>
        <p>Ejemplo de petición:</p>
        <pre><code>{
  "nombre": "Nuevo Nombre",
  "correo": "nuevo.correo@example.com",
  "contrasena": "password"
}</code></pre>
        <p>Respuesta exitosa:</p>
        <pre><code class="success">
          {
            "mensaje": "El usuario ha sido creado correctamente"
          }
</code></pre>
        <p>Respuesta no exitosa:</p>
        <pre><code class="error">
{
  "mensaje": "El correo electrónico ya está registrado"
}
</code></pre>

        <h2 id="actualizar">Actualizar un usuario</h2>
        <p>Actualiza los datos de un usuario existente.</p>
        <ul>
          <li>Método: <code>PUT</code></li>
          <li>Ruta: <code>/api/usuarios/:id</code></li>
        </ul>
        <p>Parámetros de ruta:</p>
        <ul>
          <li>
            <code>id</code> (string, obligatorio): ID del usuario a actualizar.
          </li>
        </ul>
        <p>Parámetros de cuerpo de la solicitud:</p>
        <ul>
          <li>
            <code>nombre</code> (string, opcional): Nuevo nombre del usuario.
          </li>
          <li>
            <code>correo</code> (string, opcional): Nuevo correo electrónico del
            usuario.
          </li>
          <li>
            <code>contrasena</code> (string, opcional): Nueva contraseña del
            usuario.
          </li>
        </ul>
        <p>Ejemplo de petición:</p>
        <pre><code>/api/usuarios/646523b0bb4be194b9207c02</code></pre>
        <pre><code>{
  "nombre": "Nuevo Nombre",
  "correo": "nuevo.correo@example.com",
  "contrasena": "password"
}</code></pre>
        <p>Respuesta exitosa:</p>
        <pre><code class="success">
{
  "id": "4",
  "nombre": "Nuevo Nombre",
  "correo": "nuevo.correo@example.com"
}
</code></pre>
        <p>Respuesta no exitosa:</p>
        <pre><code class="error">
{
  "mensaje": "Usuario no encontrado"
}
</code></pre>

        <h2 id="eliminar">Eliminar un usuario</h2>
        <p>Elimina un usuario existente.</p>
        <ul>
          <li>Método: <code>DELETE</code></li>
          <li>Ruta: <code>/api/usuarios/:id</code></li>
        </ul>
        <p>Parámetros de ruta:</p>
        <ul>
          <li>
            <code>id</code> (string, obligatorio): ID del usuario a eliminar.
          </li>
        </ul>
        <p>Ejemplo de petición:</p>
        <pre><code>/api/usuarios/646523b0bb4be194b9207c02</code></pre>
        <p>Respuesta exitosa:</p>
        <pre><code class="success">
{
  "mensaje": "Usuario eliminado exitosamente"
}
</code></pre>
        <p>Respuesta no exitosa:</p>
        <pre><code class="error">
{
  "mensaje": "Usuario no encontrado"
}
</code></pre>
        <br />
        <hr />
        <br />
        <!-- ------------------------------------------------------------------------------------------------------ -->
        <!-- --------------------------------LOGIN USER---------------------------------------- -->
        <!-- ------------------------------------------------------------------------------------------------------ -->

        <h2 id="loguear">LOGIN</h2>
        <p>
          Esta ruta se utiliza para realizar la verificación de inicio de sesión
          de un usuario.
        </p>
        <ul>
          <li>Método: <code>POST</code></li>
          <li>Ruta: <code>/api/auth/login</code></li>
        </ul>
        <p>Parámetros de la solicitud:</p>
        <ul>
          <li>
            <code>correo</code> (string, obligatorio): Correo del usuario.
          </li>
          <li>
            <code>contrasena</code> (string, obligatorio): Contraseña del
            usuario.
          </li>
        </ul>
        <p>Ejemplo de petición:</p>
        <pre><code>
  {
    "correo": "test1@gmail.com",
    "contrasena": "test1"
  }
</code></pre>
        <p>Respuesta exitosa:</p>
        <pre><code class="success">
{
"mensaje": "Ingreso exitoso"
}
</code></pre>
        <p>Respuesta no exitosa:</p>
        <pre><code class="error">
{
"mensaje": "Usuario no encontrado"
}
o
{
"mensaje": "La contraseña del usuario no coincide"
}
</code></pre>

        <h2>Login Google</h2>
        <p>
          Esta ruta se utiliza para realizar el registro e inicio de sesion en
          google. Esto no se puede hacer por postman o alguna otra herramienta a
          menos que se tenga la credencial de google.
        </p>
        <ul>
          <li>Método: <code>POST</code></li>
          <li>Ruta: <code>/api/auth/google</code></li>
        </ul>
        <p>Parámetros de la solicitud:</p>
        <ul>
          <li>
            <code>id_token_google</code> (string, obligatorio): credencial del
            usuario google.
          </li>
        </ul>
        <p>Ejemplo de petición:</p>
        <pre><code>
  {
    "id_token_google": "asdhj1jk2h343jkhjkeh53...(jwt encriptado por google)",
  }
</code></pre>
        <p>Respuesta exitosa:</p>
        <pre><code class="success">
{
"mensaje": "Ingreso exitoso"
}
</code></pre>
        <p>Respuesta no exitosa:</p>
        <pre><code class="error">
{
"mensaje": "Error al iniciar sesion"
}
o
{
"mensaje": "La contraseña del usuario no coincide"
}
</code></pre>

        <!-- ------------------------------------------------------------------------------------------------------ -->
        <!-- --------------------------------DETAILS USER---------------------------------------- -->
        <!-- ------------------------------------------------------------------------------------------------------ -->
        <br />
        <hr />
        <br />
        <h2 id="details">Subir imagen de Perfil de Usuario</h2>
        <p>Sube una imagen al servidor recibiendo correo y archivo</p>
        <ul>
          <li>Método: <code>POST</code></li>
          <li>Ruta: <code>/api/details/imagen</code></li>
        </ul>
        <p>Parámetros de consulta:</p>
        <ul>
          <li>
            <code>correo</code> (string, obligatorio): Correo electrónico del
            usuario a buscar. <code>img_perfil</code>(file, obligatorio): Imagen
            del usuario jpeg/jpg/png.
          </li>
        </ul>
        <p>Ejemplo de petición: body (form-data)</p>
        <pre><code>
  'correo' -> "usuario1@example.com"
  'img_perfil' -> file.(jpg/png/jpeg)
</code></pre>
        <p>Respuesta exitosa:</p>
        <pre><code class="success">
          {
            "msg": "imagen subida correctamente",
            "url": "link_de_la_imagen"
          }
</code></pre>
        <p>Respuesta no exitosa:</p>
        <pre><code class="error">
          Array de errores
          ó
          {
            "mensaje": "error al subir la imagen'
          }
</code></pre>

        <!-- ------------------------------------------------------------------------------------------------------ -->
        <!-- --------------------------------gustos---------------------------------------- -->
        <!-- ------------------------------------------------------------------------------------------------------ -->

        <h2>Detalle de Gustos de Usuario</h2>
        <p>Envia los gustos del usuario a la base de datos</p>
        <ul>
          <li>Método: <code>POST</code></li>
          <li>Ruta: <code>/api/details/gustos</code></li>
        </ul>
        <p>Parámetros de consulta:</p>
        <ul>
          <li>
            <code>correo</code> (string, obligatorio): Correo electrónico del
            usuario a buscar.
          </li>
          <li>
            <code>gustos</code> (Array[String], obligatorio): Array con los
            gustos del usuario para guardar en la base de datos.
          </li>
        </ul>
        <p>Ejemplo de petición: body (JSON)</p>
        <pre><code>
  {
    "correo": "test1@gmail.com",
    "gustos": ["Comida rapida", "Comida asiatica"]
  }
</code></pre>
        <p>Respuesta exitosa:</p>
        <pre><code class="success">
          {
            "msg": "gustos agregados"
          }
</code></pre>
        <p>Respuesta no exitosa:</p>
        <pre><code class="error">
          {
            "mensaje": "error al actualizar los gustos'
          }
</code></pre>
      </div>
    </div>
  </body>
</html>
